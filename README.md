## Problem Statement

The STEDI Team has been diligently developing a hardware STEDI Step Trainer, which serves a dual purpose: training users in STEDI balance exercises and collecting data for machine learning algorithms. The device, equipped with sensors, records user movements, and a companion mobile app captures data from the device sensors. Millions of early adopters are eager to purchase and use the STEDI Step Trainers.

Customers who have received their Step Trainers and installed the mobile app are currently testing their balance. The Step Trainer, functioning as a motion sensor, records object distance, while the mobile app uses a phone accelerometer to detect motion in the X, Y, and Z directions.

The STEDI team aims to leverage motion sensor data to train a real-time machine learning model for accurate step detection. Privacy is a key concern, limiting the use of data to only those customers who willingly share their information for research.

---

### Project Description

This project involves extracting data generated by STEDI Step Trainer sensors and the mobile app, curating it into a data lakehouse solution on AWS. The goal is to provide a platform for Data Scientists to train machine learning models. The data lake solution utilizes AWS Glue, AWS S3, Python, and Spark for processing sensor data and training machine learning algorithms.

The AWS infrastructure establishes storage zones (landing, trusted, and curated), a data catalog, data transformations between zones, and facilitates queries on semi-structured data.

---

## Project Datasets

* **Customer Records:** Data sourced from fulfillment and the STEDI website.
* **Step Trainer Records:** Data from the motion sensor.
* **Accelerometer Records:** Data captured by the mobile app.

---

## Implementation

<details>
<summary>
Landing Zone
</summary>

In the Landing Zone, raw customer, accelerometer, and step trainer data is stored in an AWS S3 bucket. AWS Glue data catalog tables are created for querying data using AWS Athena.

1. **Customer Landing Table:**

2. **Accelerometer Landing Table:**

3. **Step Trainer Landing Table:**

</details>

<details>
<summary>
Trusted Zone
</summary>

In the Trusted Zone, AWS Glue jobs are employed for transformations on raw data from the landing zones.

**Glue job scripts:**

1. **customer_landing_to_trusted.py:** Transfers customer data from 'landing' to 'trusted' zones, filtering for customers who agreed to share data with researchers.

2. **accelerometer_landing_to_trusted_zone.py:** Transfers accelerometer data from 'landing' to 'trusted' zones, filtering for customers who agreed to share data with researchers.

3. **Trainer_landing_to_trusted.py:** Transfers Step Trainer data from 'landing' to 'trusted' zones, filtering for customers who have accelerometer data and agreed to share data for research.

The Athena query on the customer_trusted table demonstrates that it only contains customer records from individuals who agreed to share their data.

</details>

<details>
<summary>
Curated Zone
</summary>

In the Curated Zone, additional AWS Glue jobs handle further transformations tailored to specific analysis needs.

**Glue job scripts:**

1. **customer_trusted_to_curated.py:** Transfers customer data from 'trusted' to 'curated' zones, filtering for customers with accelerometer readings who agreed to share data with researchers.

2. **Trainer_trusted_to_curated.py:** Builds an aggregated table with each Step Trainer Reading and associated accelerometer reading data for the same timestamp, but only for customers who agreed to share their data.

</details>

